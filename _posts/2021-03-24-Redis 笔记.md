---
layout:     post
title:      Redis 笔记
subtitle:   NoSQL 学习
date:       2021-03-24
author:     John Mactavish
header-img: img/post-bg-lake-blue.jpg
catalog: true
tags:
     - Redis

---

Redis 是一个开源的内存数据库，提供 5 种常用的数据结构，支持事务、持久化、Lua 脚本和多种集群方案等，
可应用作计数器、数据库缓存、热点数据缓存等。

# 持久化

Redis 是内存型数据库，如果需要保证数据在断电后不会丢失，可以将内存中的数据持久化到硬盘上。
持久化有两种方法：RDB（Redis Database）和 AOF（Append Only File）。

## RDB

RDB 通过创建快照来保存内存数据在某个时间点的副本，快照以二进制写入文件，
之后可以将快照复制到其它服务器从而创建具有相同数据的服务器副本。
注意快照按时间点保存，这意味如果系统发生故障，将会丢失最近一次创建快照之后的数据。

创建快照的方式有：

- 客户端向 Redis 服务器发送 BGSAVE 命令，Redis 服务器调用 fork 创建子进程来将快照写入硬盘，
同时，父进程可以继续处理命令请求
- 客户端向 Redis 服务器发送 SAVE 命令，Redis 服务器阻塞地创建快照，期间不理会其他命令请求，这种方式不常用
- 
---

> 参考资料：
> 
> Redis 实战（Redis in Action）
> 
> Redis 设计与实现（The Design and Implementation of Redis）
> 
> My GitHub Account <https://github.com/gonearewe>
