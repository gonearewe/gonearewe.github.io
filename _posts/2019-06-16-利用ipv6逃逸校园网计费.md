---
layout:     post
title:      利用IPv6逃逸校园网计费
subtitle:   配置电脑的IPv6
date:       2019-06-16
author:     John Mactavish
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - IPv6
    - 校园网 
---
# 前言
受校园网上的免流BT网启发，今天尝试利用校园网的IPv6隧道逃逸校园网的计费。本篇博客按照[https://real-neo.me/Free-By-IPv6]上的方法尝试。过程十分简单。
# 原理
（以下摘自原博客）
中国的校园网网络一般都是双栈网络，IPv4+IPv6，而一般的学校是对 IPv4 流量收费的，对 IPv6 流量免费，我们只要把所有系统软件产生的需要收费的 IPv4 流量转换为 IPv6 流量走出校园就可以做到免费上网了。对 IPv6 流量免费并不是不能对 IPv6 流量计费，而是现在校园网作为推广试验 IPv6 的环境，国家政策鼓励的结果。现在的移动 4G 已经启用了 IPv6，不可能放你免费用的。

但是，中国的大部分网站（其实世界上多数网站也这样）没有配置 IPv6 地址，只能通过 IPv4 流量访问，所以我们的 IPv6 流量从校园网出去之后还要转换回 IPv4 流量才能正常使用网络服务。一般来说我们需要一台这样服务器：同时有 IPv4+IPv6 环境，与我们的电脑使用 IPv6 通信，与各大网站使用 IPv4 通信，服务器在中间中转转换。

接下来我们关注的重点就是这个可以转换我们流量的服务器了。

通过配置 IPv6 DNS，对内容服务商的域名进行 IPv4 → IPv6 解析结果转换，实现 IPv6 与 IPv4 资源互通。简单的说就是，我们使用了一个“不正常”的 DNS 服务器，在我们访问某个网址域名时，返回一个“错误”的地址，这个地址是 IPv6 地址，我访问这个错误的地址却也能得到正确的结果，这就是这个服务器在中间转换的结果了。

比如正常情况下我访问凤凰网，连接的是 211.68.71.214 这个地址，在使用 DNS64 之后，我连接的地址就变为了 240c:f:1:6644:2:0:3ccf:f662，但是同样能打开凤凰网。
# 过程
1. 打开“网络和 Internet 设置”
2. 选择“更改适配器选项”
3. 如果你使用网线接入校园网，则选择“本地连接/以太网”，如果你使用 WiFi 接入校园网，则选择“无线网络连接”。在相应的连接上面右键，选择“属性”。
4. 选中“Internet 协议版本 6 (TCP/IPv6)”，然后点击“属性”
5. 选择“使用下面的 DNS 服务器地址”，并在“首选DNS服务器”填入 240C::6644，保存退出
6. 打开[http://test-ipv6.com/]测试你的IPv6连接情况

我的结果显示如下：

你的公网 IPv4 地址是 222.###.###.###
(CHINANET-BACKBONE No.31,###)

你的公网 IPv6 地址是 2001:250:####:####:####:####:####:####
(CNGI-CERNET2-AS-AP China Next Generation Internet CERNET2)

你已接入 IPv6，因此我们增加了一个标签页，显示你能否访问其他 IPv6 网站。

你正在使用 IPv4 或 IPv6 隧道。

你的 DNS 服务器（可能由运营商提供）没有接入或没有配置 IPv6，将来这可能会妨碍你访问纯 IPv6 网站。 
IPv6 状况评分
9/10	这一分数表示当访问只支持 IPv6 的网站时，你的 IPv6 运行状况

我想这样搞应该差不多了吧，不过网页打开确实慢的令人窒息。原博客还提供了利用shadowsocks和IPv6服务器的更好的连接方案，我就不尝试了。下一步我打算尝试6Box来进一步操作。


@end

```

>最后附上GitHub：<https://github.com/gonearewe>
